# A1707_OCLP_FOR_macOS-Sequoia
※ 本文档旨在记录在A1707 设备上通过 OCLP（OpenCore Legacy Patcher ）安装 MacOS Sequoia 及以上版本
# -----------------------------安装步骤------------------------------------
1、准备好2个U盘，一个用于制作MacOS 13 的启动U盘，一个用于制作想要安装的启动U盘（我用的是 MacOS 15.7.1）；

2、重新安装或者更新到最新的兼容版本，本文档用的是 MacOS 13.7.8（该步骤的目的是为了保留兼容的配置，如touchbar 、指纹等）；

3、安装好MacOS 13最新版本后，建议提前安装好以下程序或文件：

    a. OCLP（这个后续会用到），

    b. 准备梯子APP及配置文件
    
    c. 提前下载对应或者最近版本的Kernel Debug Kit ,可以通过 https://github.com/dortania/KdkSupportPkg 网站的对应版本下载或者Apple Developer Site进行下载，国内用户务必提前下载好，这个不安装会影响后续的OCLP驱动补丁安装执行；
    
用时间机器先全量备份一次，并且确定备份完成（别问，别就是丢了2个月的邮件和数据）；

4、下载最新版OCLP，按操作文档依次，下载想要的MacOS 版本，制作对应的启动U盘，配置好启动选项（教程略过，网查文档已经比较完善的了）；

5、通过启动U盘，全新安装系统，格式化硬盘的时候仅格式能看到的最顶层卷，提醒注意： 格盘的时候切记不要将原来的EFI格掉，否则步骤2 的效果和目的就没了（磁盘工具不要选择“显示所有设备”，这样是会整个硬盘都会格式化，就会把原先的EFI 也格式化掉）

6、正常按Macos 系统安装教程安装，按OCLP的官方文档说，在安装过程中会默认安装一个OCLP，但是用时间机器恢复之后，这个就应用没了，除非时间机器备份时本身就安装有；

7、系统安装结束后，自动通过U盘的EFI配置启动系统，进入系统后要看是否需要恢复数据，如不需要，则直接到步骤X；

8、如要恢复数据，那么在恢复数据前，先启动OCLP，先通过选项 <img width="208" height="47" alt="image" src="https://github.com/user-attachments/assets/53c5b58e-f0aa-43bc-84f4-b1fd1ed967ab" />
然后点击<img width="189" height="33" alt="image" src="https://github.com/user-attachments/assets/0706eb7a-023d-4c6c-9041-406877dc6ade" />
卸载所有驱动，卸载后重启系统；

9、由于此时没有驱动，进入系统会有明显卡顿或者闪屏，插入时间机器硬盘，通过迁移助理，进行迁移恢复数据，恢复完成后会自动重启；

10、此时进入系统登录页面，输入密码后，可能会卡住屏幕，主要是因为独立显卡缺驱动导致，解决思路一种是等待，时间不确定（这种方式不一定生效），另外一种方法是通过U盘重新启动至系统安装界面，通过终端工具，用命令执行安装OCLP 安装驱动（这个方法没实际操作过，按网上的资料理论可行），而当前OCLP只提供PKG格式，不在提供APP压缩包，这里就是为什么要在步骤3时提前安装好OCLP的原因， 在前期的实验过程中没有做步骤3的准备，在终端工具通过老旧APP版本和PKG 都安装失败OCLP）

11、重启后如输入密码能正常进入系统，则难点已经解决，接下来就是要执行以下步骤完善系统：

※ 此时因为还未有驱动，所以指纹用不了，允许任何来源的程序可能也打开不了

    a. 安装已经下载好Kernel Debug Kit ；

    b. 打开OCLP，下载补充驱动（建议打开梯子，不然下载太慢）；
    
    c. 安装完成后，重启，确定使用正常后，再打开OCLP，设置硬盘启动EFI，建议提前备份后原先的 EFI文件夹，设置好后，再额外备份EFI，即一份是原macOS 13 的EFI文件夹，一份是OCLP 打的包含OC的 EFI文件夹；

至此，安装完成。
